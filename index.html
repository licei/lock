<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>RED EYE</title>
<meta name="referrer" content="no-referrer">

<style>
*{margin:0;padding:0;box-sizing:border-box}
body{
  background:black;
  color:red;
  font-family:monospace;
  overflow:hidden;
}
#loading{
  position:fixed;
  inset:0;
  background:black;
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:9999;
}
.glitch{
  font-size:64px;
  animation:glitch 1s infinite;
}
@keyframes glitch{
  0%{text-shadow:2px 2px red}
  50%{text-shadow:-2px -2px crimson}
  100%{text-shadow:2px 2px red}
}
canvas{
  position:fixed;
  inset:0;
  z-index:0;
}
#eye{
  position:fixed;
  top:50%;
  left:50%;
  width:200px;
  height:200px;
  background:red;
  border-radius:50%;
  transform:translate(-50%,-50%);
  overflow:hidden;
  z-index:2;
}
.eyelid{
  position:absolute;
  top:-200px;
  width:100%;
  height:200px;
  background:black;
  animation:blink 6s infinite;
  z-index:3;
}
@keyframes blink{
  45%{top:-200px}
  48%{top:0}
  52%{top:0}
  55%{top:-200px}
}
.pupil{
  width:60px;
  height:60px;
  background:black;
  border-radius:50%;
  position:absolute;
  top:70px;
  left:70px;
}
#monster{
  position:fixed;
  bottom:20%;
  left:-300px;
  width:300px;
  animation:run 12s infinite;
  z-index:3;
}
@keyframes run{
  0%{left:-300px}
  40%{left:110%}
  100%{left:110%}
}
#forum{
  position:fixed;
  bottom:10px;
  left:50%;
  transform:translateX(-50%);
  width:80%;
  background:rgba(0,0,0,.8);
  border:1px solid red;
  padding:10px;
  z-index:4;
}
#messages{
  height:120px;
  overflow-y:auto;
  border-bottom:1px solid red;
  margin-bottom:5px;
}
input,button{
  background:black;
  color:red;
  border:1px solid red;
}
button{cursor:pointer}
</style>
</head>

<body>

<div id="loading">
  <div class="glitch">Wellcome</div>
</div>

<canvas id="matrix"></canvas>

<div id="eye">
  <div class="eyelid"></div>
  <div class="pupil"></div>
</div>

<img id="monster" src="https://i.imgur.com/4AiXzf8.png">

<div id="forum">
  <div id="messages"></div>
  <input id="msg" placeholder="анонимное сообщение">
  <button onclick="send()">SEND</button>
  <button onclick="resetId()">RESET ID</button>
</div>

<script>
setTimeout(()=>loading.style.display="none",3000)

let id=localStorage.id||("anon_"+Math.random().toString(36).slice(2,8))
localStorage.id=id

function resetId(){
  localStorage.removeItem("id")
  location.reload()
}

const pupil=document.querySelector(".pupil")
const eyeDiv=document.getElementById("eye")
document.addEventListener("mousemove",e=>{
  const r=eyeDiv.getBoundingClientRect()
  pupil.style.left=Math.max(20,Math.min(120,e.clientX-r.left-30))+"px"
  pupil.style.top=Math.max(20,Math.min(120,e.clientY-r.top-30))+"px"
})

const c=document.getElementById("matrix")
const x=c.getContext("2d")
c.width=innerWidth
c.height=innerHeight
const letters="01"
const drops=Array(200).fill(1)

setInterval(()=>{
  x.fillStyle="rgba(0,0,0,.05)"
  x.fillRect(0,0,c.width,c.height)
  x.fillStyle="red"
  drops.forEach((y,i)=>{
    x.fillText(letters[Math.random()>0.5?1:0],i*10,y*10)
    drops[i]=y*10>c.height?0:y+1
  })
},50)

const box=document.getElementById("messages")
function send(){
  if(!msg.value)return
  box.innerHTML+=`<div>[${id}] ${msg.value}</div>`
  msg.value=""
  box.scrollTop=9999
}
</script>

</body>
</html>
